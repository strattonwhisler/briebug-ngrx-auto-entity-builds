import { EntityActionTypes } from '../actions/action-types';
import { Change, Changed, Edit, EditByKey, Edited, EditedByKey, EditEnded, EditNew, EndEdit } from '../actions/edit-actions';
import { setActionType } from '../actions/util';
import { cacheOnType, defineTypedFactoryFunction } from './util';
export const createEditNewAction = (Type) => cacheOnType(Type, EntityActionTypes.EditNew, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.EditNew, Type), ({ entity, correlationId }) => new EditNew(Type, entity, correlationId)));
export const createEditAction = (Type) => cacheOnType(Type, EntityActionTypes.Edit, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.Edit, Type), ({ entity, correlationId }) => new Edit(Type, entity, correlationId)));
export const createEditByKeyAction = (Type) => cacheOnType(Type, EntityActionTypes.EditByKey, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.EditByKey, Type), ({ key, correlationId }) => new EditByKey(Type, key, correlationId)));
export const createEditedAction = (Type) => cacheOnType(Type, EntityActionTypes.Edited, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.Edited, Type), ({ entity, correlationId }) => new Edited(Type, entity, correlationId)));
export const createEditedByKeyAction = (Type) => cacheOnType(Type, EntityActionTypes.EditedByKey, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.EditedByKey, Type), ({ key, correlationId }) => new EditedByKey(Type, key, correlationId)));
export const createChangeAction = (Type) => cacheOnType(Type, EntityActionTypes.Change, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.Change, Type), ({ entity, correlationId }) => new Change(Type, entity, correlationId)));
export const createChangedAction = (Type) => cacheOnType(Type, EntityActionTypes.Changed, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.Changed, Type), ({ entity, correlationId }) => new Changed(Type, entity, correlationId)));
export const createEndEditAction = (Type) => cacheOnType(Type, EntityActionTypes.EndEdit, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.EndEdit, Type), ({ correlationId } = {}) => new EndEdit(Type, correlationId)));
export const createEditEndedAction = (Type) => cacheOnType(Type, EntityActionTypes.EditEnded, () => defineTypedFactoryFunction(setActionType(EntityActionTypes.EditEnded, Type), ({ correlationId } = {}) => new EditEnded(Type, correlationId)));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1mYWN0b3JpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3J4LWF1dG8tZW50aXR5L3NyYy9saWIvZmFjdG9yaWVzL2VkaXQtZmFjdG9yaWVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRTdILE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsV0FBVyxFQUFtQiwwQkFBMEIsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQU1sRixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUNqQyxJQUFrQixFQUNrRCxFQUFFLENBQ3RFLFdBQVcsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUNoRCwwQkFBMEIsQ0FDeEIsYUFBYSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFDOUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQXdCLEVBQUUsRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsYUFBYSxDQUFDLENBQzlGLENBQ0YsQ0FBQztBQU1KLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQzlCLElBQWtCLEVBQzRDLEVBQUUsQ0FDaEUsV0FBVyxDQUFDLElBQUksRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQzdDLDBCQUEwQixDQUN4QixhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUMz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Q0FDOUUsQ0FDRixDQUFDO0FBRUosTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FDbkMsSUFBa0IsRUFDK0MsRUFBRSxDQUNuRSxXQUFXLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsQ0FDbEQsMEJBQTBCLENBQ3hCLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQ2hELENBQUMsRUFBRSxhQUFhLEtBQXNCLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUNoRixDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25DcmVhdG9yIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0IHsgRW50aXR5QWN0aW9uVHlwZXMgfSBmcm9tICcuLi9hY3Rpb25zL2FjdGlvbi10eXBlcyc7XG5pbXBvcnQgeyBDaGFuZ2UsIENoYW5nZWQsIEVkaXQsIEVkaXRCeUtleSwgRWRpdGVkLCBFZGl0ZWRCeUtleSwgRWRpdEVuZGVkLCBFZGl0TmV3LCBFbmRFZGl0IH0gZnJvbSAnLi4vYWN0aW9ucy9lZGl0LWFjdGlvbnMnO1xuaW1wb3J0IHsgVE5ldyB9IGZyb20gJy4uL2FjdGlvbnMvbW9kZWwtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgc2V0QWN0aW9uVHlwZSB9IGZyb20gJy4uL2FjdGlvbnMvdXRpbCc7XG5pbXBvcnQgeyBFbnRpdHlJZGVudGl0eSB9IGZyb20gJy4uL3R5cGVzL2VudGl0eS1pZGVudGl0eSc7XG5pbXBvcnQgeyBjYWNoZU9uVHlwZSwgQ29ycmVsYXRlZFByb3BzLCBkZWZpbmVUeXBlZEZhY3RvcnlGdW5jdGlvbiB9IGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdE5ld1Byb3BzPFRNb2RlbD4gZXh0ZW5kcyBDb3JyZWxhdGVkUHJvcHMge1xuICBlbnRpdHk/OiBQYXJ0aWFsPFRNb2RlbD47XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGl0TmV3QWN0aW9uID0gPFRNb2RlbCwgVCBleHRlbmRzIHN0cmluZywgUCBleHRlbmRzIEVkaXROZXdQcm9wczxUTW9kZWw+PihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogRWRpdE5ld1Byb3BzPFRNb2RlbD4pID0+IEVkaXROZXc8VE1vZGVsPj4gPT5cbiAgY2FjaGVPblR5cGUoVHlwZSwgRW50aXR5QWN0aW9uVHlwZXMuRWRpdE5ldywgKCkgPT5cbiAgICBkZWZpbmVUeXBlZEZhY3RvcnlGdW5jdGlvbihcbiAgICAgIHNldEFjdGlvblR5cGUoRW50aXR5QWN0aW9uVHlwZXMuRWRpdE5ldywgVHlwZSksXG4gICAgICAoeyBlbnRpdHksIGNvcnJlbGF0aW9uSWQgfTogRWRpdE5ld1Byb3BzPFRNb2RlbD4pID0+IG5ldyBFZGl0TmV3KFR5cGUsIGVudGl0eSwgY29ycmVsYXRpb25JZClcbiAgICApXG4gICk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdFByb3BzPFRNb2RlbD4gZXh0ZW5kcyBDb3JyZWxhdGVkUHJvcHMge1xuICBlbnRpdHk6IFBhcnRpYWw8VE1vZGVsPjtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVkaXRBY3Rpb24gPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nLCBQIGV4dGVuZHMgRWRpdFByb3BzPFRNb2RlbD4+KFxuICBUeXBlOiBUTmV3PFRNb2RlbD5cbik6IEFjdGlvbkNyZWF0b3I8VCwgKHByb3BzOiBFZGl0UHJvcHM8VE1vZGVsPikgPT4gRWRpdDxUTW9kZWw+PiA9PlxuICBjYWNoZU9uVHlwZShUeXBlLCBFbnRpdHlBY3Rpb25UeXBlcy5FZGl0LCAoKSA9PlxuICAgIGRlZmluZVR5cGVkRmFjdG9yeUZ1bmN0aW9uKFxuICAgICAgc2V0QWN0aW9uVHlwZShFbnRpdHlBY3Rpb25UeXBlcy5FZGl0LCBUeXBlKSxcbiAgICAgICh7IGVudGl0eSwgY29ycmVsYXRpb25JZCB9OiBFZGl0UHJvcHM8VE1vZGVsPikgPT4gbmV3IEVkaXQoVHlwZSwgZW50aXR5LCBjb3JyZWxhdGlvbklkKVxuICAgIClcbiAgKTtcblxuZXhwb3J0IGludGVyZmFjZSBFZGl0QnlLZXlQcm9wcyBleHRlbmRzIENvcnJlbGF0ZWRQcm9wcyB7XG4gIGtleTogRW50aXR5SWRlbnRpdHk7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGl0QnlLZXlBY3Rpb24gPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nLCBQIGV4dGVuZHMgRWRpdEJ5S2V5UHJvcHM+KFxuICBUeXBlOiBUTmV3PFRNb2RlbD5cbik6IEFjdGlvbkNyZWF0b3I8VCwgKHByb3BzOiBFZGl0QnlLZXlQcm9wcykgPT4gRWRpdEJ5S2V5PFRNb2RlbD4+ID0+XG4gIGNhY2hlT25UeXBlKFR5cGUsIEVudGl0eUFjdGlvblR5cGVzLkVkaXRCeUtleSwgKCkgPT5cbiAgICBkZWZpbmVUeXBlZEZhY3RvcnlGdW5jdGlvbihcbiAgICAgIHNldEFjdGlvblR5cGUoRW50aXR5QWN0aW9uVHlwZXMuRWRpdEJ5S2V5LCBUeXBlKSxcbiAgICAgICh7IGtleSwgY29ycmVsYXRpb25JZCB9OiBFZGl0QnlLZXlQcm9wcykgPT4gbmV3IEVkaXRCeUtleShUeXBlLCBrZXksIGNvcnJlbGF0aW9uSWQpXG4gICAgKVxuICApO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRWRpdGVkQWN0aW9uID0gPFRNb2RlbCwgVCBleHRlbmRzIHN0cmluZywgUCBleHRlbmRzIEVkaXRQcm9wczxUTW9kZWw+PihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogRWRpdFByb3BzPFRNb2RlbD4pID0+IEVkaXRlZDxUTW9kZWw+PiA9PlxuICBjYWNoZU9uVHlwZShUeXBlLCBFbnRpdHlBY3Rpb25UeXBlcy5FZGl0ZWQsICgpID0+XG4gICAgZGVmaW5lVHlwZWRGYWN0b3J5RnVuY3Rpb24oXG4gICAgICBzZXRBY3Rpb25UeXBlKEVudGl0eUFjdGlvblR5cGVzLkVkaXRlZCwgVHlwZSksXG4gICAgICAoeyBlbnRpdHksIGNvcnJlbGF0aW9uSWQgfTogRWRpdFByb3BzPFRNb2RlbD4pID0+IG5ldyBFZGl0ZWQoVHlwZSwgZW50aXR5LCBjb3JyZWxhdGlvbklkKVxuICAgIClcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVkaXRlZEJ5S2V5QWN0aW9uID0gPFRNb2RlbCwgVCBleHRlbmRzIHN0cmluZywgUCBleHRlbmRzIEVkaXRCeUtleVByb3BzPihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogRWRpdEJ5S2V5UHJvcHMpID0+IEVkaXRlZEJ5S2V5PFRNb2RlbD4+ID0+XG4gIGNhY2hlT25UeXBlKFR5cGUsIEVudGl0eUFjdGlvblR5cGVzLkVkaXRlZEJ5S2V5LCAoKSA9PlxuICAgIGRlZmluZVR5cGVkRmFjdG9yeUZ1bmN0aW9uKFxuICAgICAgc2V0QWN0aW9uVHlwZShFbnRpdHlBY3Rpb25UeXBlcy5FZGl0ZWRCeUtleSwgVHlwZSksXG4gICAgICAoeyBrZXksIGNvcnJlbGF0aW9uSWQgfTogRWRpdEJ5S2V5UHJvcHMpID0+IG5ldyBFZGl0ZWRCeUtleShUeXBlLCBrZXksIGNvcnJlbGF0aW9uSWQpXG4gICAgKVxuICApO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hhbmdlQWN0aW9uID0gPFRNb2RlbCwgVCBleHRlbmRzIHN0cmluZywgUCBleHRlbmRzIEVkaXRQcm9wczxUTW9kZWw+PihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogRWRpdFByb3BzPFRNb2RlbD4pID0+IENoYW5nZTxUTW9kZWw+PiA9PlxuICBjYWNoZU9uVHlwZShUeXBlLCBFbnRpdHlBY3Rpb25UeXBlcy5DaGFuZ2UsICgpID0+XG4gICAgZGVmaW5lVHlwZWRGYWN0b3J5RnVuY3Rpb24oXG4gICAgICBzZXRBY3Rpb25UeXBlKEVudGl0eUFjdGlvblR5cGVzLkNoYW5nZSwgVHlwZSksXG4gICAgICAoeyBlbnRpdHksIGNvcnJlbGF0aW9uSWQgfTogRWRpdFByb3BzPFRNb2RlbD4pID0+IG5ldyBDaGFuZ2UoVHlwZSwgZW50aXR5LCBjb3JyZWxhdGlvbklkKVxuICAgIClcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYW5nZWRBY3Rpb24gPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nLCBQIGV4dGVuZHMgRWRpdFByb3BzPFRNb2RlbD4+KFxuICBUeXBlOiBUTmV3PFRNb2RlbD5cbik6IEFjdGlvbkNyZWF0b3I8VCwgKHByb3BzOiBFZGl0UHJvcHM8VE1vZGVsPikgPT4gQ2hhbmdlZDxUTW9kZWw+PiA9PlxuICBjYWNoZU9uVHlwZShUeXBlLCBFbnRpdHlBY3Rpb25UeXBlcy5DaGFuZ2VkLCAoKSA9PlxuICAgIGRlZmluZVR5cGVkRmFjdG9yeUZ1bmN0aW9uKFxuICAgICAgc2V0QWN0aW9uVHlwZShFbnRpdHlBY3Rpb25UeXBlcy5DaGFuZ2VkLCBUeXBlKSxcbiAgICAgICh7IGVudGl0eSwgY29ycmVsYXRpb25JZCB9OiBFZGl0UHJvcHM8VE1vZGVsPikgPT4gbmV3IENoYW5nZWQoVHlwZSwgZW50aXR5LCBjb3JyZWxhdGlvbklkKVxuICAgIClcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVuZEVkaXRBY3Rpb24gPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nLCBQIGV4dGVuZHMgQ29ycmVsYXRlZFByb3BzPihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogQ29ycmVsYXRlZFByb3BzKSA9PiBFbmRFZGl0PFRNb2RlbD4+ID0+XG4gIGNhY2hlT25UeXBlKFR5cGUsIEVudGl0eUFjdGlvblR5cGVzLkVuZEVkaXQsICgpID0+XG4gICAgZGVmaW5lVHlwZWRGYWN0b3J5RnVuY3Rpb24oXG4gICAgICBzZXRBY3Rpb25UeXBlKEVudGl0eUFjdGlvblR5cGVzLkVuZEVkaXQsIFR5cGUpLFxuICAgICAgKHsgY29ycmVsYXRpb25JZCB9OiBDb3JyZWxhdGVkUHJvcHMgPSB7fSkgPT4gbmV3IEVuZEVkaXQoVHlwZSwgY29ycmVsYXRpb25JZClcbiAgICApXG4gICk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGl0RW5kZWRBY3Rpb24gPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nLCBQIGV4dGVuZHMgQ29ycmVsYXRlZFByb3BzPihcbiAgVHlwZTogVE5ldzxUTW9kZWw+XG4pOiBBY3Rpb25DcmVhdG9yPFQsIChwcm9wczogQ29ycmVsYXRlZFByb3BzKSA9PiBFZGl0RW5kZWQ8VE1vZGVsPj4gPT5cbiAgY2FjaGVPblR5cGUoVHlwZSwgRW50aXR5QWN0aW9uVHlwZXMuRWRpdEVuZGVkLCAoKSA9PlxuICAgIGRlZmluZVR5cGVkRmFjdG9yeUZ1bmN0aW9uKFxuICAgICAgc2V0QWN0aW9uVHlwZShFbnRpdHlBY3Rpb25UeXBlcy5FZGl0RW5kZWQsIFR5cGUpLFxuICAgICAgKHsgY29ycmVsYXRpb25JZCB9OiBDb3JyZWxhdGVkUHJvcHMgPSB7fSkgPT4gbmV3IEVkaXRFbmRlZChUeXBlLCBjb3JyZWxhdGlvbklkKVxuICAgIClcbiAgKTtcbiJdfQ==