import { pascalCase } from '../../util/case';
import { ENTITY_OPTS_PROP } from '../decorators/entity-tokens';
import { checkKeyName } from '../decorators/key-util';
/**
 * Sets the entity info for a given model.
 *
 * @param type The entity model type
 */
export const setInfo = (type) => {
    const instance = new type();
    const opts = (type[ENTITY_OPTS_PROP] || { modelName: instance.constructor.name });
    const modelName = opts.modelName;
    checkKeyName(type, modelName);
    return {
        modelType: type,
        ...opts
    };
};
/**
 * Sets the action type info for a given model.
 *
 * @param actionType The type of entity action
 * @param info The entity info
 */
export const setType = (actionType, info) => {
    const name = info.modelName;
    const entity = pascalCase(name);
    return actionType.replace('Entity', entity);
};
export const setActionType = (actionType, type) => {
    const info = setInfo(type);
    const typedType = setType(actionType, info);
    return typedType;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25ncngtYXV0by1lbnRpdHkvc3JjL2xpYi9hY3Rpb25zL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTdDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQy9ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUl0RDs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsSUFBUyxFQUFlLEVBQUU7SUFDaEQsTUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUM1QixNQUFNLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQW1CLENBQUM7SUFDcEcsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNqQyxZQUFZLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzlCLE9BQU87UUFDTCxTQUFTLEVBQUUsSUFBSTtRQUNmLEdBQUcsSUFBSTtLQUNSLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRjs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRyxDQUFDLFVBQWtCLEVBQUUsSUFBaUIsRUFBVSxFQUFFO0lBQ3ZFLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDNUIsTUFBTSxNQUFNLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRWhDLE9BQU8sVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDOUMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQTJCLFVBQWtCLEVBQUUsSUFBa0IsRUFBSyxFQUFFO0lBQ25HLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBTSxDQUFDO0lBQ2pELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhc2NhbENhc2UgfSBmcm9tICcuLi8uLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHsgSUVudGl0eU9wdGlvbnMgfSBmcm9tICcuLi9kZWNvcmF0b3JzL2VudGl0eS1vcHRpb25zJztcbmltcG9ydCB7IEVOVElUWV9PUFRTX1BST1AgfSBmcm9tICcuLi9kZWNvcmF0b3JzL2VudGl0eS10b2tlbnMnO1xuaW1wb3J0IHsgY2hlY2tLZXlOYW1lIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy9rZXktdXRpbCc7XG5pbXBvcnQgeyBJRW50aXR5SW5mbyB9IGZyb20gJy4vZW50aXR5LWluZm8nO1xuaW1wb3J0IHsgVE5ldyB9IGZyb20gJy4vbW9kZWwtY29uc3RydWN0b3InO1xuXG4vKipcbiAqIFNldHMgdGhlIGVudGl0eSBpbmZvIGZvciBhIGdpdmVuIG1vZGVsLlxuICpcbiAqIEBwYXJhbSB0eXBlIFRoZSBlbnRpdHkgbW9kZWwgdHlwZVxuICovXG5leHBvcnQgY29uc3Qgc2V0SW5mbyA9ICh0eXBlOiBhbnkpOiBJRW50aXR5SW5mbyA9PiB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IHR5cGUoKTtcbiAgY29uc3Qgb3B0cyA9ICh0eXBlW0VOVElUWV9PUFRTX1BST1BdIHx8IHsgbW9kZWxOYW1lOiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lIH0pIGFzIElFbnRpdHlPcHRpb25zO1xuICBjb25zdCBtb2RlbE5hbWUgPSBvcHRzLm1vZGVsTmFtZTtcbiAgY2hlY2tLZXlOYW1lKHR5cGUsIG1vZGVsTmFtZSk7XG4gIHJldHVybiB7XG4gICAgbW9kZWxUeXBlOiB0eXBlLFxuICAgIC4uLm9wdHNcbiAgfTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgYWN0aW9uIHR5cGUgaW5mbyBmb3IgYSBnaXZlbiBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uVHlwZSBUaGUgdHlwZSBvZiBlbnRpdHkgYWN0aW9uXG4gKiBAcGFyYW0gaW5mbyBUaGUgZW50aXR5IGluZm9cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFR5cGUgPSAoYWN0aW9uVHlwZTogc3RyaW5nLCBpbmZvOiBJRW50aXR5SW5mbyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IG5hbWUgPSBpbmZvLm1vZGVsTmFtZTtcbiAgY29uc3QgZW50aXR5ID0gcGFzY2FsQ2FzZShuYW1lKTtcblxuICByZXR1cm4gYWN0aW9uVHlwZS5yZXBsYWNlKCdFbnRpdHknLCBlbnRpdHkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEFjdGlvblR5cGUgPSA8VE1vZGVsLCBUIGV4dGVuZHMgc3RyaW5nPihhY3Rpb25UeXBlOiBzdHJpbmcsIHR5cGU6IFROZXc8VE1vZGVsPik6IFQgPT4ge1xuICBjb25zdCBpbmZvID0gc2V0SW5mbyh0eXBlKTtcbiAgY29uc3QgdHlwZWRUeXBlID0gc2V0VHlwZShhY3Rpb25UeXBlLCBpbmZvKSBhcyBUO1xuICByZXR1cm4gdHlwZWRUeXBlO1xufTtcbiJdfQ==