import { ENTITY_OPTS_PROP } from './entity-tokens';
/**
 * Entity decorator for configuring each entity model.
 *
 * @param nameOrOptions - The model name or configuration options to apply
 * @param maybeOptions - Additional options to apply if a model name is passed as the first param
 */
export function Entity(nameOrOptions, maybeOptions) {
    return function entityDecorator(constructor) {
        const initialOptions = typeof nameOrOptions === 'object' ? nameOrOptions : { modelName: nameOrOptions };
        const options = maybeOptions ? { ...maybeOptions, ...initialOptions } : initialOptions;
        const descriptor = Object.create(null);
        descriptor.configurable = false;
        descriptor.enumerable = false;
        descriptor.writable = false;
        descriptor.value = options;
        Object.defineProperty(constructor, ENTITY_OPTS_PROP, descriptor);
        return constructor;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50aXR5LWRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25ncngtYXV0by1lbnRpdHkvc3JjL2xpYi9kZWNvcmF0b3JzL2VudGl0eS1kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFpQm5EOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFVLE1BQU0sQ0FBQyxhQUFzQyxFQUFFLFlBQXNDO0lBQ25HLE9BQU8sU0FBUyxlQUFlLENBQUMsV0FBZ0I7UUFDOUMsTUFBTSxjQUFjLEdBQUcsT0FBTyxhQUFhLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxDQUFDO1FBQ3hHLE1BQU0sT0FBTyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLFlBQVksRUFBRSxHQUFHLGNBQWMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUM7UUFFdkYsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxVQUFVLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUNoQyxVQUFVLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUM5QixVQUFVLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUM1QixVQUFVLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQztRQUMzQixNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUVqRSxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUVudGl0eU9wdGlvbnMgfSBmcm9tICcuL2VudGl0eS1vcHRpb25zJztcbmltcG9ydCB7IEVOVElUWV9PUFRTX1BST1AgfSBmcm9tICcuL2VudGl0eS10b2tlbnMnO1xuXG4vKipcbiAqIEVudGl0eSBkZWNvcmF0b3IgZm9yIGNvbmZpZ3VyaW5nIGVhY2ggZW50aXR5IG1vZGVsLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBhcHBseVxuICovXG5leHBvcnQgZnVuY3Rpb24gRW50aXR5KG9wdGlvbnM6IElFbnRpdHlPcHRpb25zKTtcblxuLyoqXG4gKiBFbnRpdHkgZGVjb3JhdG9yIGZvciBjb25maWd1cmluZyBlYWNoIGVudGl0eSBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gbW9kZWxOYW1lIC0gVGhlIG1vZGVsIG5hbWUgb3B0aW9uIHRvIGFwcGx5XG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIGFwcGx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbnRpdHkobW9kZWxOYW1lPzogc3RyaW5nLCBvcHRpb25zPzogUGFydGlhbDxJRW50aXR5T3B0aW9ucz4pO1xuXG4vKipcbiAqIEVudGl0eSBkZWNvcmF0b3IgZm9yIGNvbmZpZ3VyaW5nIGVhY2ggZW50aXR5IG1vZGVsLlxuICpcbiAqIEBwYXJhbSBuYW1lT3JPcHRpb25zIC0gVGhlIG1vZGVsIG5hbWUgb3IgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIGFwcGx5XG4gKiBAcGFyYW0gbWF5YmVPcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIHRvIGFwcGx5IGlmIGEgbW9kZWwgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IHBhcmFtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbnRpdHkobmFtZU9yT3B0aW9uczogc3RyaW5nIHwgSUVudGl0eU9wdGlvbnMsIG1heWJlT3B0aW9ucz86IFBhcnRpYWw8SUVudGl0eU9wdGlvbnM+KSB7XG4gIHJldHVybiBmdW5jdGlvbiBlbnRpdHlEZWNvcmF0b3IoY29uc3RydWN0b3I6IGFueSkge1xuICAgIGNvbnN0IGluaXRpYWxPcHRpb25zID0gdHlwZW9mIG5hbWVPck9wdGlvbnMgPT09ICdvYmplY3QnID8gbmFtZU9yT3B0aW9ucyA6IHsgbW9kZWxOYW1lOiBuYW1lT3JPcHRpb25zIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IG1heWJlT3B0aW9ucyA/IHsgLi4ubWF5YmVPcHRpb25zLCAuLi5pbml0aWFsT3B0aW9ucyB9IDogaW5pdGlhbE9wdGlvbnM7XG5cbiAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gb3B0aW9ucztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsIEVOVElUWV9PUFRTX1BST1AsIGRlc2NyaXB0b3IpO1xuXG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICB9O1xufVxuIl19